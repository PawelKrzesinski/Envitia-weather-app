<p-fieldset legend="Location">
  <h4>{{timezone}}</h4>
  <form [formGroup]="locationForm" (ngSubmit)="getWeatherByLonLat()">
    <span class="p-float-label">
      <input type="number" id="lon" class="p-inputtext-sm" pInputText formControlName="lon"/>  
      <label htmlFor="lon">Longitude</label>
      <div *ngIf="lon?.invalid && (lon?.dirty || lon?.touched)">
        <div *ngIf="lon?.errors?.['required']">Longitude is required.</div>
        <div *ngIf="lon?.errors?.['pattern']">Longitude must be a number.</div>
      </div>
    </span>
    <span class="p-float-label">
      <input type="number" id="lat" class="p-inputtext-sm" pInputText formControlName="lat"/>  
      <label htmlFor="lat">Latitude</label>
      <div *ngIf="lat?.invalid && (lat?.dirty || lat?.touched)">
        <div *ngIf="lat?.errors?.['required']">Latitude is required.</div>
        <div *ngIf="lat?.errors?.['pattern']">Latitude must be a number.</div>
      </div>
    </span>
    <p-button (onClick)="getWeatherByLonLat()" type="submit" [disabled]="locationForm.invalid">Search</p-button>
  </form>
</p-fieldset>

<p-tabView (onChange)="dayChangeHandler($event)">
  <p-tabPanel *ngFor="let day of days" [header]="day.time">
    <p-card>
      <h2 *ngIf="day.current_temp">Current temperature: {{day.current_temp}}</h2>
      <h4>Min: {{day.temperature_2m_min}}</h4>
      <h4>Max: {{day.temperature_2m_max}}</h4>
      <h4>Sunrise: {{day.sunrise}}</h4>
      <h4>Sunset: {{day.sunset}}</h4>
    </p-card>
  </p-tabPanel>

</p-tabView>
<div [ngSwitch]="selectedDay">
  <p-carousel *ngSwitchCase="days[0]" [value]="hours" [numVisible]="8" [numScroll]="6" [circular]="false" [responsiveOptions]="responsiveOptions">
    <ng-template let-hour pTemplate="body">
      <p-card [header]="hour">
        <div>Feels like: {{ getFeelsLike(days[0], hour) }}C</div>
      </p-card>
    </ng-template>
  </p-carousel>
  <!-- <p-carousel *ngSwitchCase="days[1]" [value]="hours" [numVisible]="8" [numScroll]="6" [circular]="false" [responsiveOptions]="responsiveOptions">
    <ng-template let-hour pTemplate="body">
      <p-card [header]="hour">
        <div>Feels like: {{ getFeelsLike(days[1], hour) }}C</div>
      </p-card>
    </ng-template>
  </p-carousel>
  <p-carousel *ngSwitchCase="days[2]" [value]="hours" [numVisible]="8" [numScroll]="6" [circular]="false" [responsiveOptions]="responsiveOptions">
    <ng-template let-hour pTemplate="body">
      <p-card [header]="hour">
        <div>Feels like: {{ getFeelsLike(days[2], hour) }}C</div>
      </p-card>
    </ng-template>
  </p-carousel>
  <p-carousel *ngSwitchCase="days[3]" [value]="hours" [numVisible]="8" [numScroll]="6" [circular]="false" [responsiveOptions]="responsiveOptions">
    <ng-template let-hour pTemplate="body">
      <p-card [header]="hour">
        <div>Feels like: {{ getFeelsLike(days[3], hour) }}C</div>
      </p-card>
    </ng-template>
  </p-carousel>
  <p-carousel *ngSwitchCase="days[4]" [value]="hours" [numVisible]="8" [numScroll]="6" [circular]="false" [responsiveOptions]="responsiveOptions">
    <ng-template let-hour pTemplate="body">
      <p-card [header]="hour">
        <div>Feels like: {{ getFeelsLike(days[4], hour) }}C</div>
      </p-card>
    </ng-template>
  </p-carousel> -->
  
</div>